---
sidebar_position: 3
---

# Serenity BDD Reporter

```mdx-code-block
import Figure from '@site/src/components/Figure'
```

[`SerenityBDDReporter`](/api/serenity-bdd/class/SerenityBDDReporter) is available as part of the [`@serenity-js/serenity-bdd`](/api/serenity-bdd) module.

`SerenityBDDReporter` listens to [domain events](/handbook/reporting/domain-events) emitted by [actors](/api/core/class/Actor), [test runner adapters](/handbook/test-runners/), and other [stage crew members](/api/core/interface/StageCrewMember),
to produce Serenity BDD-compatible JSON reports, which can be then stored as files to disk  by [`ArtifactArchiver`](/handbook/reporting/artifact-archiver).

Resulting JSON files can be processed by [Serenity BDD CLI](https://serenity-bdd.github.io/) to produce a HTML report and rich living documentation containing screenshots, details of HTTP traffic for any [REST API](/api/rest) interactions,
details of any activities performed by Serenity/JS [actors](/api/core/class/Actor) and more.

<Figure
    caption='Example reports produced by Serenity BDD'
    img={require('@site/static/images/reporting/serenity-bdd-reporter.png')}
/>

## Installation and usage

[Serenity BDD reports](/handbook/reporting/serenity-bdd-reporter) are generated by [Serenity BDD CLI](https://github.com/serenity-bdd/serenity-core/tree/main/serenity-cli),
a Java program downloaded and managed by the [`@serenity-js/serenity-bdd`](/api/serenity-bdd) module.

To produce Serenity BDD reports, your test suite must:
- download the Serenity BDD CLI, by calling `serenity-bdd update`
- produce intermediate Serenity BDD `.json` reports, by registering [`SerenityBDDReporter`](/api/serenity-bdd/class/SerenityBDDReporter)
- invoke the Serenity BDD CLI when you want to produce the report, by calling `serenity-bdd run`

The pattern used by all the [Serenity/JS Project Templates](/handbook/getting-started#serenityjs-project-templates) relies
on using:
- a [`postinstall`](https://docs.npmjs.com/cli/v9/using-npm/scripts#life-cycle-operation-order) NPM script to download the Serenity BDD CLI
- [`npm-failsafe`](https://www.npmjs.com/package/npm-failsafe) to run the reporting process even if the test suite itself has failed (which is precisely when you need test reports the most...).
- [`rimraf`](https://www.npmjs.com/package/rimraf) as a convenience method to remove any test reports left over from the previous run

```json title="package.json"
{
  "scripts": {
    "postinstall": "serenity-bdd update",
    "clean": "rimraf target",
    "test": "failsafe clean test:execute test:report",
    "test:execute": "cucumber-js",
    "test:report": "serenity-bdd run --features ./features ",
  }
}
```
Note that in the above code sample, you should configure `test:execute` to invoke your [test runner](/handbook/test-runners/) of choice.

To learn more about the `SerenityBDDReporter`, please consult:
- installation instructions in [`@serenity-js/serenity-bdd` documentation](/api/serenity-bdd),
- configuration examples in [`SerenityBDDReporter`](/api/serenity-bdd/class/SerenityBDDReporter).

You might also want to explore [Serenity/JS example projects on GitHub](https://github.com/serenity-js/serenity-js/tree/main/examples).

## Integration

`SerenityBDDReporter` emits [`ArtifactGenerated`](/api/core-events/class/ArtifactGenerated) containing Serenity BDD-standard JSON reports,
which can be stored to disk by [`ArtifactArchiver`](/handbook/reporting/artifact-archiver),
and then turned into Serenity BDD HTML reports by [Serenity BDD Reporting CLI](https://github.com/serenity-bdd/serenity-cli).

```mermaid
graph TB
    A(["Actors"])
    TRA(["Serenity/JS test runner adapter"])
    DEV(["💻 Developer"])
    S["Serenity"]
    AA["ArtifactArchiver"]
    SBDDR["SerenityBDDReporter"]
    SBDDW["serenity-bdd run"]
    TA["📂 json, png, etc."]
    SBDDCLI(["serenity-bdd-cli.jar"])
    HTML["🖥️ Serenity BDD HTML reports"]

    A -- notify --> S
    TRA -- notifies --> S
    DEV -- invokes -----> SBDDW
    S -- notifies ---> SBDDR
    S -- "notifies<br>[ArtifactGenerated]" ---> AA
    AA -- "stores<br>[Artifact]" ----> TA
    SBDDR -- "notifies<br>[ArtifactGenerated]" --> S
    SBDDW -- manages --> SBDDCLI
    SBDDCLI -- reads --> TA
    SBDDCLI -- produces --> HTML

    subgraph "serenity-bdd"
        SBDDR
        SBDDCLI
        SBDDW
    end

    subgraph "core"
        S
        AA
    end

    subgraph "file system"
        TA
        HTML
    end

    class A socket
    class TRA socket
    class R socket

    click A "/api/core/class/Actor"
    click TRA "/handbook/test-runners/"
    click S "/api/core/class/Serenity"
    click AA "/api/core/class/ArtifactArchiver"
    click SBDDR "/api/serenity-bdd/class/SerenityBDDReporter"
    click SBDDW "/api/serenity-bdd"
```
